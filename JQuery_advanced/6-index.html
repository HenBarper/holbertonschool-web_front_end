<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
        <script type="application/javascript">
          $(document).ready(function(){
            function createFamilyTree() {
              $('body').append("<table>");
              $('table').append("<thead>");
              $('thead').append($("<tr>").append($('<th>').text('Firstname')).append($('<th>').text('Lastname')));
              $('table').append("<tbody>");
            }

            function addNewMember(firstName, lastName, position) {
              if(position === 'before') {
                $('tbody').prepend($("<tr>").append($('<td>').text(firstName)).append($('<td>').text(lastName)).append($('<td id="close">').text('(X)').css("background-color", "orange")));
              }
              else {
                $('tbody').append($("<tr>").append($('<td>').text(firstName)).append($('<td>').text(lastName)).append($('<td id="close">').text('(X)').css("background-color", "orange")));
              }
            }

            function createForm() {
              $('body').first().before('<form>');
              $('form').append('<input id="fName" type="text">');
              $('form').append('<input id="lName" type="text">');
              $('form').append('<select>');
              $('select').append($('<option value="before">').text('Before'));
              $('select').append($('<option value="after">').text('After'));
              $('form').append('<input id="sub-but" type="submit">');
            }

            createFamilyTree();
            createForm();

            $('body').on('click', '#close', function () {
                $(this).closest('tr').remove();
            });

            $('form').on('click', '#sub-but', function () {
              let firstName = $('#fName').val();
              let lastName = $("input:nth-of-type(2)").val();
              let position = $('select').val();
              addNewMember(firstName, lastName, position);
            });
          });
          </script>
    </head>
    <body>
    </body>
</html>